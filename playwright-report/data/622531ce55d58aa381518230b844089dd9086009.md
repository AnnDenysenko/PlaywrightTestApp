# Test info

- Name: Auto waiting
- Location: /Users/anna.denysenko/Documents/GitRepo/PlaywrightTestApp/tests/autoWaiting.spec.ts:20:5

# Error details

```
Error: page.goto: net::ERR_CERT_COMMON_NAME_INVALID at https://uitestingplayground.com/ajax
Call log:
  - navigating to "https://uitestingplayground.com/ajax", waiting until "load"

    at /Users/anna.denysenko/Documents/GitRepo/PlaywrightTestApp/tests/autoWaiting.spec.ts:8:14
```

# Page snapshot

```yaml
- heading "Your connection is not private" [level=1]
- paragraph:
  - text: Attackers might be trying to steal your information from
  - strong: uitestingplayground.com
  - text: (for example, passwords, messages or credit cards).
  - link "Learn more about this warning":
    - /url: "#"
- button "net::ERR_CERT_COMMON_NAME_INVALID"
- button "Back to safety"
- button "Advanced"
```

# Test source

```ts
   1 | import { test, expect } from "@playwright/test";
   2 | import { allowedNodeEnvironmentFlags } from "process";
   3 |
   4 | // test.beforeAll(async ({ page }) => {});
   5 |
   6 | test.beforeEach(async ({ page }, testInfo) => {
   7 |   // Using the ngx-admin app instead of uitestingplayground due to certificate issues
>  8 |   await page.goto("https://uitestingplayground.com/ajax");
     |              ^ Error: page.goto: net::ERR_CERT_COMMON_NAME_INVALID at https://uitestingplayground.com/ajax
   9 |
  10 |   // Navigate to a page with AJAX functionality
  11 |   await page.getByText("Tables & Data").click();
  12 |   await page.getByText("Smart Table").click();
  13 |
  14 |   // Click on a button that will trigger AJAX request (like search)
  15 |   await page.getByPlaceholder("Search...").click();
  16 |
  17 |   testInfo.setTimeout(testInfo.timeout + 2000); // setting timeout for the whole test suit and it will be applied to each test
  18 | });
  19 |
  20 | test("Auto waiting", async ({ page }) => {
  21 |   const successButton = page.locator(".bg-success");
  22 |
  23 |   //   await successButton.click();
  24 |
  25 |   // with text content
  26 |   const text = await successButton.textContent(); // grab text from this element
  27 |
  28 |   expect(text).toEqual("Data loaded with AJAX get request.");
  29 |
  30 |   //   const text = await successButton.allTextContents(); // will not wait
  31 |
  32 |   await successButton.waitFor({ state: "attached" }); // for methods without implemented auto wait logic
  33 |
  34 |   expect(text).toEqual("Data loaded with AJAX get request."); // toEqual for strings, toContain for arrays
  35 |
  36 |   await expect(successButton).toHaveText("Data loaded with AJAX get request.");
  37 |
  38 |   // using increased timeout (increase from default timeout which is 5 seconds)
  39 |   await expect(successButton).toHaveText("Data loaded with AJAX get request.", {
  40 |     timeout: 20000,
  41 |   });
  42 | });
  43 |
  44 | // dealing with methods that do not have auto waiting implememted
  45 | test("Alternative waits", async ({ page }) => {
  46 |   const successButton = page.locator(".bg-success");
  47 |
  48 |   // ___wait for element
  49 |   await page.waitForSelector(".bg-success");
  50 |
  51 |   // ___wait for particular response
  52 |   await page.waitForResponse("https://uitestingplayground.com/ajaxdata"); // waiting for networking request to be successfully completed and then will go to the next step
  53 |
  54 |   // ___wait for network calls to be completed (not recommended);
  55 |   await page.waitForLoadState("networkidle"); // waiting for all api calls to be completed (not all api calls may be required for UI, that's why it's not always recommended)
  56 |
  57 |   await page.waitForTimeout(5000);
  58 |
  59 |   await page.waitForURL("*/"); // when waiting for specific page to open
  60 |
  61 |   const text = await successButton.allTextContents(); // will not wait
  62 |
  63 |   expect(text).toContain("Data loaded with AJAX get request."); // toEqual for strings, toContain for arrays
  64 | });
  65 |
  66 | test("Timeouts", async ({ page }) => {
  67 |   test.setTimeout(60000); // setting timeout for the whole test
  68 |   test.slow(); // will increase the default timeout of the test in 3 times
  69 |   const successButton = page.locator(".bg-success");
  70 |
  71 |   await successButton.click(); // in web click on this button takes 15 seconds for the button to show up
  72 |
  73 |   // timeoouts can be configured in playwright.config.ts
  74 |
  75 |   // timeout can be overrided in config
  76 |   await successButton.click({ timeout: 20000 });
  77 | });
  78 |
```